<div *ngIf="apiready | async">
  <google-map height="100vh" width="100vw" [center]="center" [zoom]="zoom">
    <!-- safe to do .length cause we do a null check first -->
    <div *ngIf="MapOutline && MapOutline.length > 2">
      <map-polygon [paths]="MapOutline"></map-polygon>
    </div>
    <div *ngIf="CurrentLocations && CurrentLocations.length>0">
        <map-marker *ngFor="let pos of CurrentLocations" [position]="pos.location" #currentmarker="mapMarker" [label]="pos.devicename" [title]="pos.devicename" (mapClick)="showinfo(currentmarker,currentwindow)">
          <map-info-window #currentwindow="mapInfoWindow">This is the sensor for {{pos.devicename}} at the time of {{pos.timestamp|date:'full'}}
            
          </map-info-window>
        </map-marker>
    </div>
  </google-map>
</div>
